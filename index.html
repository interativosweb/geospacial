<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GeoSpacial ‚Äî 2D/3D</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Topbar -->
  <header class="topbar">
    <div class="topbar-left">
      <div class="logo-dot"></div>
      <div class="title">
        <div class="title-main">GeoSpacial</div>
        <div class="title-sub">Geometria espacial ‚Ä¢ clean</div>
      </div>
    </div>

    <div class="topbar-center">
      <button class="pill active" id="btnMode3D">3D</button>
      <button class="pill" id="btnMode2D">2D</button>
    </div>

    <div class="topbar-right">
      <span class="status" id="status">3D ‚Ä¢ Selecionar</span>
      <button class="iconbtn" id="btnResetView" title="Reset c√¢mera (3D)">‚ü≤</button>
    </div>
  </header>

  <!-- Floating toolbox (GeoGebra-like) -->
  <aside class="toolbox" id="toolbox">
    <div class="toolbox-head">
      <button class="iconbtn" id="btnToggleTools" title="Recolher/Expandir">‚â°</button>
      <div class="toolbox-title">Ferramentas</div>
    </div>

    <!-- Movement Tools -->
    <section class="toolgroup">
      <button class="groupbtn" data-group="move">Movement</button>
      <div class="groupbody" id="group-move">
        <button class="toolbtn active" data-tool="select3d" data-mode="3d" title="Move (selecionar)">
          ‚ü° <span>Move</span>
        </button>
        <button class="toolbtn" data-tool="orbit3d" data-mode="3d" title="Rotacionar a vista (Orbit)">
          ‚ü≥ <span>Rotate View</span>
        </button>
        <button class="toolbtn" data-tool="pan3d" data-mode="3d" title="Mover a vista (Pan)">
          ‚Üî <span>Move View</span>
        </button>
        <button class="toolbtn" data-tool="zoom3d" data-mode="3d" title="Zoom (mouse/trackpad)">
          üîç <span>Zoom</span>
        </button>
      </div>
    </section>

    <!-- Point Tools (placeholders nesta vers√£o) -->
    <section class="toolgroup">
      <button class="groupbtn" data-group="points">Points</button>
      <div class="groupbody" id="group-points">
        <button class="toolbtn disabled" title="Em breve: Point">
          ‚Ä¢ <span>Point</span>
        </button>
        <button class="toolbtn disabled" title="Em breve: Point on Object">
          ‚äô <span>Point on Object</span>
        </button>
        <button class="toolbtn disabled" title="Em breve: Intersect">
          ‚®Ø <span>Intersect</span>
        </button>
        <button class="toolbtn disabled" title="Em breve: Midpoint or Center">
          ‚óâ <span>Midpoint/Center</span>
        </button>
        <button class="toolbtn disabled" title="Em breve: Attach / Detach Point">
          ‚õì <span>Attach/Detach</span>
        </button>
      </div>
    </section>

    <!-- Line Tools (placeholders) -->
    <section class="toolgroup">
      <button class="groupbtn" data-group="lines">Lines</button>
      <div class="groupbody" id="group-lines">
        <button class="toolbtn disabled" title="Em breve: Line">
          ‚ï± <span>Line</span>
        </button>
        <button class="toolbtn disabled" title="Em breve: Segment">
          ‚îÄ <span>Segment</span>
        </button>
        <button class="toolbtn disabled" title="Em breve: Segment with Given Length">
          ‚îÅ <span>Fixed Segment</span>
        </button>
        <button class="toolbtn disabled" title="Em breve: Ray">
          ‚ûù <span>Ray</span>
        </button>
        <button class="toolbtn disabled" title="Em breve: Vector">
          ‚áÄ <span>Vector</span>
        </button>
        <button class="toolbtn disabled" title="Em breve: Vector from Point">
          ‚á¢ <span>Vector from Point</span>
        </button>
      </div>
    </section>

    <!-- Plane Tools (um plano simples funcional) -->
    <section class="toolgroup">
      <button class="groupbtn" data-group="planes">Planes</button>
      <div class="groupbody" id="group-planes">
        <button class="toolbtn" data-tool="addPlane" data-mode="3d" title="Adicionar Plano">
          ‚ñ≠ <span>Plane</span>
        </button>
        <button class="toolbtn disabled" title="Em breve: Plane through 3 Points">
          ‚ñ≥ <span>Plane (3 pts)</span>
        </button>
        <button class="toolbtn disabled" title="Em breve: Perpendicular Plane">
          ‚üÇ <span>Perpendicular</span>
        </button>
        <button class="toolbtn disabled" title="Em breve: Parallel Plane">
          ‚à• <span>Parallel</span>
        </button>
      </div>
    </section>

    <!-- Solids / Basic 3D Objects (funcional) -->
    <section class="toolgroup">
      <button class="groupbtn" data-group="solids">Solids</button>
      <div class="groupbody" id="group-solids">
        <button class="toolbtn" data-tool="addCube" data-mode="3d" title="Adicionar Cubo">
          ‚óº <span>Cube</span>
        </button>
        <button class="toolbtn" data-tool="addSphere" data-mode="3d" title="Adicionar Esfera">
          ‚óè <span>Sphere</span>
        </button>
        <button class="toolbtn" data-tool="addCylinder" data-mode="3d" title="Adicionar Cilindro">
          ‚äò <span>Cylinder</span>
        </button>
        <button class="toolbtn" data-tool="addCone" data-mode="3d" title="Adicionar Cone">
          ‚ñ≤ <span>Cone</span>
        </button>
        <button class="toolbtn disabled" title="Em breve: Prism / Pyramid / Net / etc.">
          ‚ßâ <span>Prism/Pyramid‚Ä¶</span>
        </button>
      </div>
    </section>

    <!-- Measurement Tools (placeholder de medidas estilo GeoGebra) -->
    <section class="toolgroup">
      <button class="groupbtn" data-group="measure">Measurement</button>
      <div class="groupbody" id="group-measure">
        <button class="toolbtn disabled" title="Em breve: Distance/Length">
          ‚Üï <span>Distance</span>
        </button>
        <button class="toolbtn disabled" title="Em breve: Angle">
          ‚à† <span>Angle</span>
        </button>
        <button class="toolbtn disabled" title="Em breve: Area">
          ‚¨ö <span>Area</span>
        </button>
        <button class="toolbtn disabled" title="Em breve: Volume">
          ‚óªÔ∏é <span>Volume</span>
        </button>
      </div>
    </section>

    <!-- Transform Controls (funcional) -->
    <section class="toolgroup">
      <button class="groupbtn" data-group="transform">Transform</button>
      <div class="groupbody" id="group-transform">
        <button class="toolbtn active" data-tool="tMove" data-mode="3d" title="Mover objeto">
          ‚Üï <span>Move</span>
        </button>
        <button class="toolbtn" data-tool="tRotate" data-mode="3d" title="Rotacionar objeto">
          ‚ü≤ <span>Rotate</span>
        </button>
        <button class="toolbtn" data-tool="tScale" data-mode="3d" title="Escalar objeto">
          ‚§¢ <span>Scale</span>
        </button>
        <div class="divider"></div>
        <button class="toolbtn" data-tool="deleteSelected" data-mode="3d" title="Excluir selecionado">
          ‚å´ <span>Delete</span>
        </button>
        <button class="toolbtn" data-tool="clearAll3D" data-mode="3d" title="Limpar tudo">
          ‚úï <span>Clear</span>
        </button>
      </div>
    </section>

    <!-- 2D quick tools (funcional e simples) -->
    <section class="toolgroup">
      <button class="groupbtn" data-group="2d">2D Tools</button>
      <div class="groupbody" id="group-2d">
        <button class="toolbtn" data-tool="rect2d" data-mode="2d" title="Ret√¢ngulo/Quadrado">
          ‚ñ¢ <span>Rect</span>
        </button>
        <button class="toolbtn" data-tool="tri2d" data-mode="2d" title="Tri√¢ngulo">
          ‚ñ≥ <span>Triangle</span>
        </button>
        <button class="toolbtn" data-tool="circle2d" data-mode="2d" title="C√≠rculo">
          ‚óØ <span>Circle</span>
        </button>
        <button class="toolbtn" data-tool="clear2d" data-mode="2d" title="Limpar 2D">
          ‚úï <span>Clear</span>
        </button>
      </div>
    </section>
  </aside>

  <!-- Main canvas area (full screen, no borders) -->
  <main class="workspace">
    <!-- 2D layer -->
    <div class="layer hidden" id="layer2d">
      <svg id="svg2d" class="svg2d" viewBox="0 0 1000 700" preserveAspectRatio="xMidYMid meet">
        <defs>
          <filter id="softShadow">
            <feDropShadow dx="0" dy="10" stdDeviation="12" flood-opacity="0.16"/>
          </filter>
        </defs>
      </svg>
    </div>

    <!-- 3D layer -->
    <div class="layer" id="layer3d">
      <canvas id="canvas3d"></canvas>
    </div>
  </main>

  <!-- Three.js via importmap (MVP). Em vers√£o robusta de produ√ß√£o, o ideal √© Vite + npm. -->
  <script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
      "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
    }
  }
  </script>

  <script type="module" src="app.js"></script>
</body>
</html>
