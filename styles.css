:root{
  --bg1:#f5f5f7;
  --ink:#0b0b0f;
  --muted: rgba(11,11,15,0.58);
  --line: rgba(0,0,0,0.08);
  --glass: rgba(255,255,255,0.72);
  --shadow: 0 18px 60px rgba(0,0,0,0.10);
  --accent:#0071e3;
}

*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; color:var(--ink); background: var(--bg1); }

body{
  background:
    radial-gradient(1200px 600px at 20% 0%, rgba(0,113,227,0.10), transparent 60%),
    radial-gradient(900px 520px at 80% 10%, rgba(0,0,0,0.06), transparent 60%),
    linear-gradient(180deg, var(--bg1), #ffffff);
  overflow: hidden;
}

/* Topbar */
.topbar{
  position: fixed;
  top: 12px;
  left: 12px;
  right: 12px;
  height: 54px;
  display:flex;
  align-items:center;
  justify-content: space-between;
  padding: 0 14px;
  border: 1px solid var(--line);
  border-radius: 18px;
  background: var(--glass);
  backdrop-filter: blur(14px);
  box-shadow: var(--shadow);
  z-index: 50;
}

.topbar-left{ display:flex; align-items:center; gap:12px; }
.logo-dot{ width:12px; height:12px; border-radius:50%; background: var(--accent); }
.title-main{ font-weight: 800; letter-spacing: -0.2px; }
.title-sub{ font-size: 12px; color: var(--muted); margin-top: 2px; }

.topbar-center{ display:flex; gap:10px; align-items:center; }
.pill{
  border: 1px solid var(--line);
  background: rgba(255,255,255,0.62);
  padding: 10px 14px;
  border-radius: 999px;
  cursor:pointer;
  font-weight: 800;
}
.pill.active{
  border-color: rgba(0,113,227,0.35);
  background: rgba(0,113,227,0.12);
  color: #055fbf;
}

.topbar-right{ display:flex; gap:10px; align-items:center; }
.status{ font-size: 12px; color: var(--muted); }

.iconbtn{
  border: 1px solid var(--line);
  background: rgba(255,255,255,0.62);
  width: 38px; height: 38px;
  border-radius: 12px;
  cursor:pointer;
  font-weight: 900;
  display:flex;
  align-items:center;
  justify-content:center;
}
.iconbtn:active{ transform: scale(0.99); }

/* Workspace full screen */
.workspace{
  position: fixed;
  inset: 0;
  padding-top: 78px;
}
.layer{
  position:absolute;
  inset: 0;
}
.hidden{ display:none; }

/* Toolbox flutuante */
.toolbox{
  position: fixed;
  top: 78px;
  left: 12px;
  width: 280px;
  max-height: calc(100vh - 96px);
  overflow: auto;
  border: 1px solid var(--line);
  border-radius: 18px;
  background: rgba(255,255,255,0.70);
  backdrop-filter: blur(14px);
  box-shadow: var(--shadow);
  z-index: 40;
}
.toolbox.compact{ width: 64px; }

.toolbox-head{
  display:flex;
  align-items:center;
  gap:10px;
  padding: 12px;
  border-bottom: 1px solid var(--line);
}
.toolbox-title{ font-weight: 900; letter-spacing: -0.2px; }

.toolgroup{ padding: 8px 10px 10px; }
.groupbtn{
  width: 100%;
  text-align:left;
  border: 1px solid var(--line);
  background: rgba(255,255,255,0.55);
  padding: 10px 12px;
  border-radius: 14px;
  cursor:pointer;
  font-weight: 900;
  color: rgba(11,11,15,0.78);
}
.groupbody{
  margin-top: 8px;
  display:grid;
  gap: 8px;
}

.toolbtn{
  width: 100%;
  border: 1px solid var(--line);
  background: rgba(255,255,255,0.70);
  padding: 10px 12px;
  border-radius: 14px;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:10px;
  font-weight: 800;
}
.toolbtn span{ font-weight: 800; color: rgba(11,11,15,0.82); }
.toolbtn.active{
  border-color: rgba(0,113,227,0.35);
  background: rgba(0,113,227,0.12);
  color: #055fbf;
}

.divider{
  height: 1px;
  background: var(--line);
  margin: 4px 2px;
  border-radius: 999px;
}

/* Compact: esconde textos */
.toolbox.compact .toolbox-title,
.toolbox.compact .groupbtn,
.toolbox.compact .toolbtn span{
  display:none;
}
.toolbox.compact .toolgroup{ padding: 8px; }
.toolbox.compact .groupbody{ margin-top: 0; }
.toolbox.compact .toolbtn{ justify-content:center; padding: 12px 0; }

/* 2D */
.svg2d{ width: 100%; height: 100%; }

/* 3D */
#canvas3d{ width: 100%; height: 100%; display:block; }

@media (max-width: 720px){
  .topbar{ left: 8px; right: 8px; top: 8px; }
  .toolbox{ left: 8px; top: 74px; width: 240px; }
}
